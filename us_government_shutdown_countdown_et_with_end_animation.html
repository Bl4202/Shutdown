<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>US Government Shutdown Countdown — ET</title>
<style>
  :root { color-scheme: light dark; }
  body { margin: 0; font: 16px/1.4 system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; min-height: 100vh; display: grid; place-items: center; transition: background 600ms ease; }
  .wrap { width: min(720px, 92vw); text-align: center; }
  h1 { font-size: clamp(1.25rem, 2.6vw + 1rem, 2rem); margin: 0 0 .75rem; font-weight: 600; }
  .times { display: grid; gap: .5rem; margin: 1rem 0 1.25rem; }
  .row { display: grid; grid-template-columns: 1fr 2fr; gap: .75rem; align-items: baseline; }
  .label { opacity: .7; text-align: right; }
  .val { font-variant-numeric: tabular-nums; text-align: left; }
  .big { font-size: clamp(1.75rem, 5.5vw + .5rem, 3rem); font-weight: 700; letter-spacing: .02em; margin: .25rem 0 .25rem; }
  .grid { display: grid; grid-template-columns: repeat(4, minmax(0,1fr)); gap: .5rem; margin-top: .5rem; }
  .cell { padding: .65rem .5rem; border: 1px solid currentColor; border-radius: .6rem; }
  .num { font-size: clamp(1.25rem, 3.5vw + .25rem, 2rem); font-weight: 700; font-variant-numeric: tabular-nums; }
  .unit { opacity: .7; font-size: .85rem; }
  footer { opacity: .6; margin-top: 1.25rem; font-size: .85rem; }

  /* End-state animations */
  @keyframes pulse-bg {
    0% { filter: brightness(1); }
    50% { filter: brightness(1.25); }
    100% { filter: brightness(1); }
  }
  @keyframes wobble {
    0%,100% { transform: translateX(0); }
    20% { transform: translateX(-2px) rotate(-0.4deg); }
    40% { transform: translateX(2px) rotate(0.4deg); }
    60% { transform: translateX(-1px) rotate(-0.3deg); }
    80% { transform: translateX(1px) rotate(0.3deg); }
  }
  .ended .big { animation: wobble 400ms ease-in-out 0s 12; }
  .ended { animation: pulse-bg 1.2s ease-in-out 0s 10; }

  /* Confetti */
  .confetti { position: fixed; inset: 0; pointer-events: none; overflow: hidden; }
  .piece { position: absolute; top: -10px; width: 8px; height: 14px; opacity: .9; will-change: transform; }
  @keyframes fall {
    0% { transform: translateY(-12vh) rotate(0deg); }
    100% { transform: translateY(110vh) rotate(720deg); }
  }

  /* Respect reduced motion */
  @media (prefers-reduced-motion: reduce) {
    .ended, .ended .big { animation: none !important; }
    .piece { display: none; }
  }
</style>
</head>
<body>
  <div class="wrap">
    <h1>Countdown to Potential U.S. Government Shutdown</h1>

    <div class="times">
      <div class="row"><div class="label">Target (ET):</div><div class="val" id="targetET"></div></div>
      <div class="row"><div class="label">Your Local Time:</div><div class="val" id="localNow"></div></div>
      <div class="row"><div class="label">Current Eastern Time:</div><div class="val" id="nyNow"></div></div>
    </div>

    <div class="big" id="status">Calculating…</div>
    <div class="grid" id="grid">
      <div class="cell"><div class="num" id="d">0</div><div class="unit">days</div></div>
      <div class="cell"><div class="num" id="h">00</div><div class="unit">hours</div></div>
      <div class="cell"><div class="num" id="m">00</div><div class="unit">minutes</div></div>
      <div class="cell"><div class="num" id="s">00</div><div class="unit">seconds</div></div>
    </div>

    <footer id="note">Auto‑updates every second. Times reflect your device clock. ET = America/New_York.</footer>
  </div>
  <div class="confetti" id="confetti"></div>

<script>
  const fmtNY = new Intl.DateTimeFormat(undefined, { dateStyle: 'full', timeStyle: 'long', timeZone: 'America/New_York' });
  const fmtLocal = new Intl.DateTimeFormat(undefined, { dateStyle: 'full', timeStyle: 'long' });

  const targetETEl = document.getElementById('targetET');
  const localNowEl = document.getElementById('localNow');
  const nyNowEl = document.getElementById('nyNow');
  const statusEl = document.getElementById('status');
  const dEl = document.getElementById('d');
  const hEl = document.getElementById('h');
  const mEl = document.getElementById('m');
  const sEl = document.getElementById('s');
  const confettiLayer = document.getElementById('confetti');

  function nyParts(date) {
    const parts = new Intl.DateTimeFormat('en-US', {
      timeZone: 'America/New_York', year: 'numeric', month: 'numeric', day: 'numeric'
    }).formatToParts(date);
    let o = {}; for (const {type, value} of parts) if (type !== 'literal') o[type] = +value; return o;
  }

  function computeTargetUTC(baseDate) {
    const { year, month, day } = nyParts(baseDate);
    let y = year;
    if (month > 10 || (month === 10 && day >= 1)) y = year + 1; // after or on Oct 1 (ET)
    return new Date(Date.UTC(y, 9, 1, 4, 0, 0)); // Oct = 9, 04:00Z == 00:00 ET during DST
  }

  let targetUTC = computeTargetUTC(new Date());
  let ended = false;
  let rollingTimer = null;

  function renderTargetLabel() {
    targetETEl.textContent = new Intl.DateTimeFormat(undefined, {
      dateStyle: 'full', timeStyle: 'long', timeZone: 'America/New_York'
    }).format(targetUTC);
  }

  function pad2(n) { return String(n).padStart(2, '0'); }

  function makeConfettiPieces(count) {
    const colors = ['#ff595e','#ffca3a','#8ac926','#1982c4','#6a4c93'];
    const frag = document.createDocumentFragment();
    for (let i=0;i<count;i++) {
      const el = document.createElement('div');
      el.className = 'piece';
      const left = Math.random()*100;
      const dur = 4 + Math.random()*3; // 4–7s
      const delay = Math.random()*0.6; // slight stagger
      const color = colors[(Math.random()*colors.length)|0];
      const rotate = Math.random()*360;
      el.style.left = left + 'vw';
      el.style.background = color;
      el.style.transform = `rotate(${rotate}deg)`;
      el.style.animation = `fall ${dur}s cubic-bezier(.25,.6,.3,1) ${delay}s forwards`;
      frag.appendChild(el);
    }
    confettiLayer.appendChild(frag);
  }

  function clearConfetti() {
    confettiLayer.innerHTML = '';
  }

  function enterEndState() {
    if (ended) return;
    ended = true;
    document.body.classList.add('ended');
    statusEl.textContent = 'Deadline reached';
    makeConfettiPieces(120);
    rollingTimer = setTimeout(() => {
      clearConfetti();
      document.body.classList.remove('ended');
      targetUTC = computeTargetUTC(new Date(Date.now() + 1000));
      renderTargetLabel();
      ended = false;
    }, 10000); // 10s celebration
  }

  function tick() {
    const now = new Date();
    localNowEl.textContent = fmtLocal.format(now);
    nyNowEl.textContent = fmtNY.format(now);

    let diff = targetUTC - now;
    if (diff <= 0) {
      enterEndState();
      diff = 0; // freeze at 0 during celebration
    }

    const totalSec = Math.floor(diff / 1000);
    const days = Math.floor(totalSec / 86400);
    const hours = Math.floor((totalSec % 86400) / 3600);
    const mins = Math.floor((totalSec % 3600) / 60);
    const secs = totalSec % 60;

    dEl.textContent = Math.max(0, days);
    hEl.textContent = pad2(Math.max(0, hours));
    mEl.textContent = pad2(Math.max(0, mins));
    sEl.textContent = pad2(Math.max(0, secs));

    if (!ended) statusEl.textContent = 'Time remaining';
  }

  renderTargetLabel();
  tick();
  setInterval(tick, 1000);
</script>
</body>
</html>
